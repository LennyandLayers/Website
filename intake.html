<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Client Intake | Lenny and Layers</title>
  <meta name="description" content="Lenny and Layers - Client Project Intake Form" />
  <link rel="icon" href="images/favicon.png" type="image/png" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />

  <style>
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background: url('images/hero_background.jpg') no-repeat center center/cover;
      color: #f4f1ea;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .question-container {
      max-width: 800px;
      margin: auto;
      background: rgba(13, 27, 42, 0.85);
      padding: 40px;
      border-radius: 12px;
      box-shadow: 0 0 30px rgba(0, 0, 0, 0.3);
    }

    h1 {
      font-family: 'Playfair Display', serif;
      color: #dcbd66;
      font-size: 2rem;
      margin-bottom: 30px;
      text-align: center;
    }

    .question {
      font-size: 2rem;
      font-weight: 600;
      font-family: 'Playfair Display', serif;
      color: #f4f1ea;
      text-align: center;
      margin: 20px;
    }

    textarea::placeholder {
      color: #dcbd66;
      opacity: 0.8;
    }

    textarea, input[type="email"] {
  width: 100%;
  padding: 14px;
  border-radius: 8px;
  border: 1px solid #dcbd66;
  background: #1c2a3a;
  color: #fff;
  margin-bottom: 20px;
  font-size: 1rem;
  resize: none; 
  max-width: 100%;  
}


    button {
      background: #dcbd66;
      color: #0d1b2a;
      border: none;
      padding: 12px 20px;
      border-radius: 8px;
      font-family: 'Bebas Neue', cursive;
      font-size: 1.2rem;
      cursor: pointer;
      text-transform: uppercase;
      letter-spacing: 1px;
      flex: 1;
      min-width: 120px;
    }

    button:hover {
      background-color: #c5a953;
    }

    .nav-buttons {
      display: flex;
      justify-content: space-between;
      gap: 20px;
    }

    .progress-bar {
      width: 100%;
      height: 8px;
      background-color: #2a3d56;
      border-radius: 6px;
      overflow: hidden;
      margin-bottom: 30px;
    }

    .progress-fill {
      height: 100%;
      background-color: #dcbd66;
      width: 0%;
      transition: width 0.3s ease;
    }

    .footer-note {
      text-align: center;
      font-size: 0.9rem;
      padding: 20px;
      color: #ccc;
    }

    @media (max-width: 600px) {
      .question-container {
        padding: 24px;
      }

      .nav-buttons {
        flex-direction: column;
      }

      button {
        width: 100%;
      }
    }
  </style>
</head>
<body>

  <div class="question-container">
    <h1>Client Intake Questionnaire</h1>

    <div class="progress-bar">
      <div class="progress-fill" id="progressFill"></div>
    </div>
    <p id="progressText" style="text-align: center; margin-top: 8px; color: #dcbd66; font-size: 0.95rem;"></p>

    <form id="intakeForm">
      <div id="questionBox">
        <!-- Questions injected here -->
      </div>
      <button type="submit" style="display: none;" id="submitBtn">Submit</button>
    </form>
  </div>

  <div class="footer-note">
    &copy; 2025 Lenny and Layers. All rights reserved.
  </div>

  <script>
    const questions = [
      "üéØ What is the name of your business or project?",
      "Do you have a tagline or slogan you'd like included?",
      "What does your business do? What are your core products or services?",
      "üîç What type of design work do you need? (e.g., logo, branding, website, etc.)",
      "What are the main goals of this project?",
      "üß† Who is your target audience or ideal customer?",
      "What makes your business different from competitors?",
      "Are there any brands you admire visually or strategically? Why?",
      "üñºÔ∏è Do you have existing brand assets? (logos, colors, fonts, imagery, etc.)",
      "Do you have brand guidelines already?",
      "What colors do you like or dislike, and why?",
      "Are there any specific elements you want included or avoided?",
      "Please share links to 3‚Äì5 designs you like. What do you like about them?",
      "üõ†Ô∏è Where will this design be used? (print, web, social media, etc.)",
      "What are the technical requirements or dimensions (if known)?",
      "Do you have a deadline or timeline in mind?",
      "Do you have a budget range for this project?",
      "üß≠ If your brand were a person, how would you describe its personality?",
      "How do you want people to feel when they see your branding?",
      "üìã Who is the main point of contact?",
      "Who will be approving the final design?",
      "How involved would you like to be in the design process? (Hands-off, Collaborative, Step-by-step)",
      "Is there anything else you‚Äôd like to share/specify that would help make this a success?"
    ];

    let current = 0;
    const answers = [];
    const questionBox = document.getElementById('questionBox');
    const progressFill = document.getElementById('progressFill');

    function updateProgress() {
      const percent = Math.round((current / questions.length) * 100);
      progressFill.style.width = `${percent}%`;
      document.getElementById('progressText').textContent = `${current + 1} / ${questions.length}`;
    }

    function showQuestion(index) {
      const existingAnswer = answers[index]?.answer || "";
      questionBox.innerHTML = `
        <label class="question">${questions[index]}</label>
        <textarea required placeholder="ANSWER HERE">${existingAnswer}</textarea>
        <div class="nav-buttons">
          ${index > 0 ? `<button type="button" onclick="previousQuestion()">Previous</button>` : `<div></div>`}
          <button type="button" onclick="nextQuestion()">Next</button>
        </div>
      `;
      updateProgress();
    }

    function nextQuestion() {
      const textarea = questionBox.querySelector("textarea");
      if (!textarea.value.trim()) {
        textarea.focus();
        return;
      }

      answers[current] = {
        question: questions[current],
        answer: textarea.value.trim()
      };

      current++;
      if (current < questions.length) {
        showQuestion(current);
      } else {
        buildSubmission();
      }
    }

    function previousQuestion() {
      const textarea = questionBox.querySelector("textarea");
      if (textarea.value.trim()) {
        answers[current] = {
          question: questions[current],
          answer: textarea.value.trim()
        };
      }

      if (current > 0) {
        current--;
        showQuestion(current);
      }
    }

    function buildSubmission() {
      const form = document.getElementById('intakeForm');
      let message = "";
      answers.forEach((item, index) => {
        message += `${index + 1}. ${item.question}\n${item.answer}\n\n`;
      });

      form.innerHTML = `
        <input type="hidden" name="message" value="${message.replace(/"/g, '&quot;')}" />
        <input type="email" name="email" placeholder="Your Email (for follow-up)" required />
        <button type="submit">Submit</button>
      `;

      form.setAttribute("action", "https://formspree.io/f/mzzgvdvy");
      form.setAttribute("method", "POST");
      progressFill.style.width = `100%`;

      form.addEventListener("submit", function (e) {
        e.preventDefault();
        const data = new FormData(form);

        fetch(form.action, {
          method: form.method,
          body: data,
          headers: {
            'Accept': 'application/json'
          }
        })
        .then(response => {
          if (response.ok) {
            window.location.href = "thankyou.html";
          } else {
            alert("Something went wrong. Please try again.");
          }
        })
        .catch(error => {
          console.error(error);
          alert("Submission failed. Please try again later.");
        });
      });
    }

    showQuestion(current);
  </script>

</body>
</html>
